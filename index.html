<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
    <title>Title</title>
    <style>
        .alert-success #resText{
            font-size: 28px;
            font-weight: bolder;
        }

    </style>
</head>
<body>
<div class="container">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-horizontal">
                <div class="form-group">
                    <label for="averageDailySalary" class="col-sm-2 control-label">平均日薪酬</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="averageDailySalary" placeholder="元">
                    </div>
                </div>
                <div class="form-group">
                    <label for="workingHours" class="col-sm-2 control-label">工作时长</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="workingHours" placeholder="下班时间-上班时间">
                    </div>
                </div>
                <div class="form-group">
                    <label for="commutingHours" class="col-sm-2 control-label">通勤时长</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="commutingHours" placeholder="小时">
                    </div>
                </div>
                <div class="form-group">
                    <label for="lengthFishing" class="col-sm-2 control-label">摸鱼时长</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="lengthFishing" placeholder="不干活+吃饭+午休">
                    </div>
                </div>
                <div class="form-group">
                    <label for="education" class="col-sm-2 control-label">学历系数</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="education">
                            <option value="0.8">专科及以下</option>
                            <option value="1">普通本科</option>
                            <option value="1.2">高级本科</option>
                            <option value="1.4">普通硕士</option>
                            <option value="1.6">高级硕士</option>
                            <option value="1.8">普通博士</option>
                            <option value="2">高级博士</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="workEnvironment" class="col-sm-2 control-label">工作环境系数</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="workEnvironment">
                            <option value="0.8">偏僻地区</option>
                            <option value="0.9">工厂户外</option>
                            <option value="1">普通</option>
                            <option value="1.1">体制内</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="heterosexualEnvironment" class="col-sm-2 control-label">异性环境系数</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="heterosexualEnvironment">
                            <option value="0.9">没有</option>
                            <option value="1">不多不少</option>
                            <option value="1.1">很多</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="colleagueEnvironment" class="col-sm-2 control-label">同事环境系数</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="colleagueEnvironment">
                            <option value="0.95">SB很多</option>
                            <option value="1">普通很多</option>
                            <option value="1.1">优秀很多</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="professionalQualifications" class="col-sm-2 control-label">职业资格系数</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="professionalQualifications">
                            <option value="1">无要求、二级</option>
                            <option value="1.05">建造造价监理</option>
                            <option value="1.1">建筑岩土结构</option>
                            <option value="1.15">主任医师、教授</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="professionalQualifications" class="col-sm-2 control-label">是否8:30前上班</label>
                    <div class="col-sm-10">
                        <label class="radio-inline">
                            <input type="radio" name="isMorningShift" id="isMorningShift1" value="0.95">
                            是
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="isMorningShift" id="isMorningShift2" value="1">
                            否
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="comprehensiveEnvironment" class="col-sm-2 control-label">综合环境系数</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="comprehensiveEnvironment" placeholder="不要改" disabled>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button id="ok" class="btn btn-default">提交</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger" role="alert">
                        工作性价比的分： <span id="res"></span>; <span id="resText"></span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script>
    $(function () {
        // 初始化
        $("#isMorningShift1").attr('checked', true);
        $("#education").val('0.8');
        $("#workEnvironment").val('0.8');
        $("#heterosexualEnvironment").val('0.9');
        $("#colleagueEnvironment").val('0.95');
        setcComprehensiveEnvironment(0.8,0.9,0.95);
        $("#ok").on('click', function () {
            const averageDailySalary = Number($("#averageDailySalary").val()); // 平均日薪酬
            const workingHours = Number($("#workingHours").val()); // 工作时长
            const commutingHours = Number($("#commutingHours").val()); // 通勤时长
            const lengthFishing = Number($("#lengthFishing").val()); // 摸鱼时长
            const education = Number($("#education").val()); // 学历系数
            const workEnvironment = $("#workEnvironment").val(); // 工作环境系数
            const heterosexualEnvironment = $("#heterosexualEnvironment").val(); // 异性环境系数
            const colleagueEnvironment = $("#colleagueEnvironment").val(); // 同事环境系数
            const professionalQualifications = Number($("#professionalQualifications").val()); // 职业资格系数
            const isMorningShift = Number($('input[name="isMorningShift"]:checked').val()); // 是否8:30前上班
            const comprehensiveEnvironment = Number($("#comprehensiveEnvironment").val());// 综合环境系数
            const denominator = averageDailySalary * comprehensiveEnvironment;
            const molecule = 35  * (workingHours + commutingHours - 0.5 * lengthFishing) * education * professionalQualifications;
            const res = denominator / molecule * isMorningShift;
            $('#myModal').modal('show');
            $('#res').text(res.toFixed(2));
            if (res <=  0.8) {
                // 很惨
                $('.alert').addClass('alert-danger');
                $('#resText').text('很惨');
            } else if (1.5 > res >0.8) {
                // 一般
                $('.alert').addClass('alert-warning');
                $('#resText').text('一般');
            } else if (2 > res >1.5) {
                //很爽
                $('.alert').addClass('alert-info');
                $('#resText').text('很爽');
            } else if (res >=2) {
                //爽到爆
                $('.alert').addClass('alert-success');
                $('#resText').text('爽到爆');
            }
            console.log(res);
        })
        $("#workEnvironment,#heterosexualEnvironment,#colleagueEnvironment").on('change', function () {
            const workEnvironment = $("#workEnvironment").val();
            const heterosexualEnvironment = $("#heterosexualEnvironment").val();
            const professionalQualifications = $("#professionalQualifications").val();
            setcComprehensiveEnvironment(workEnvironment,heterosexualEnvironment,professionalQualifications);
        })
        function setcComprehensiveEnvironment(workEnvironment,heterosexualEnvironment,colleagueEnvironment) {
            const comprehensiveEnvironment = 1 * workEnvironment * heterosexualEnvironment * colleagueEnvironment;
            $("#comprehensiveEnvironment").val(comprehensiveEnvironment);
        }
    })
</script>
</body>
</html>